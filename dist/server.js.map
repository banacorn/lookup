{"version":3,"sources":["webpack:///webpack/bootstrap eef1cbfb6371c008acde","webpack:///./src/test/server.ts","webpack:///external \"restify\"","webpack:///./src/test/util.ts","webpack:///external \"fs\"","webpack:///external \"util\"","webpack:///external \"colors\"","webpack:///external \"request\""],"names":[],"mappings":"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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap eef1cbfb6371c008acde\n **/","var restify = require('restify');\nimport { search, debug } from './util'\n\nconst respond = (req: any, res: any, next: any) => {\n    search(req.params.word, (reply) => {\n        res.send(reply);\n    })\n    next();\n}\n\nconst cors = (req: any, res: any, next: any) => {\n    res.header('content-type', 'text/plain');\n    res.header('Access-Control-Allow-Origin', '*');\n    res.header('Access-Control-Allow-Headers', 'X-Requested-With');\n    return next();\n}\n\nconst server = restify.createServer();\nserver.use(cors);\nserver.get('/search/:word', respond);\nserver.head('/search/:word', respond);\n\nserver.listen(4000, () => {\n    console.log(`${server.name} listening at ${server.url}`);\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/test/server.ts\n **/","module.exports = require(\"restify\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"restify\"\n ** module id = 1\n ** module chunks = 0\n **/","import * as fs from 'fs';\nimport { inspect } from 'util';\nimport 'colors';\nvar request = require('request');\n\nexport function debug(s: any) {\n    const t: string = inspect(s, false, null);\n    console.log(t.cyan)\n}\n\nexport function debugGreen(s: any) {\n    const t: string = inspect(s, false, null);\n    console.log(t.green)\n}\n\nexport function fetch(word: string, callback: (s: string) => void) {\n    console.log(`fetching ${word}`.gray)\n    request(`http://en.wiktionary.org/w/index.php?title=${word}&printable=true`, (error: Error, response: any, body: any) => {\n        if (!error && response.statusCode == 200) {\n            console.log(`${word} fetched`.gray)\n            callback(body);\n            fs.writeFile(`corpse/${word}`, body);\n        } else {\n            console.log(`fetching ${word} failed`.gray, response.statusCode)\n        }\n    })\n}\n\nexport function search(word: string, callback: (s: string) => void) {\n    fs.readFile(`corpse/${word}`, (err, data) => {\n        if (err && err.errno === -2) {\n            console.log(`${word} not found`.gray)\n            fetch(word, callback);\n        } else {\n            callback(data.toString());\n        }\n    })\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/test/util.ts\n **/","module.exports = require(\"fs\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"fs\"\n ** module id = 3\n ** module chunks = 0 1\n **/","module.exports = require(\"util\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"util\"\n ** module id = 4\n ** module chunks = 0 1\n **/","module.exports = require(\"colors\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"colors\"\n ** module id = 5\n ** module chunks = 0 1\n **/","module.exports = require(\"request\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"request\"\n ** module id = 6\n ** module chunks = 0 1\n **/"],"sourceRoot":""}